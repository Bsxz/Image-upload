"use strict";(self.webpackChunkepic_teach=self.webpackChunkepic_teach||[]).push([[615],{8615:function(e,n,r){r.r(n),r.d(n,{default:function(){return w}});var t,i,s=r(9439),l=r(168),a=r(2791),d=r(2360),h=r(9023),u=r(8510),c=r(1413),o=r(6776),p=r(6517),g=r(3263),x=r(43),f=r(9279),j=r(184),m=(0,h.Pi)((function(e){var n=(0,f.o)().ImageStore,r=p.Z.Dragger,t={beforeUpload:function(r){return n.file=r,n.filename=r.name,e.setIsUpload((function(e){return!1})),/(png$)|(jpg$)|(jpeg$)|(gif$)|(svg$)/gi.test(r.type)?r.size>1048576?(g.ZP.error("\u6587\u4ef6\u8fc7\u5927"),!1):(n.upload().then((function(n){g.ZP.success("\u4e0a\u4f20\u6210\u529f"),e.setIsUpload((function(e){return!e}))})).catch((function(e){g.ZP.error("\u4e0a\u4f20\u5931\u8d25")})),!1):(g.ZP.error("\u53ea\u80fd\u4e0a\u4f20png/jpg/jpeg/svg/gif\u683c\u5f0f\u7684\u56fe\u7247"),!1)},showUploadList:!1,disabled:!u.g.getCurrentUser()};return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(x.Z,{tip:"\u4e0a\u4f20\u4e2d",spinning:n.isUpload,children:(0,j.jsxs)(r,(0,c.Z)((0,c.Z)({},t),{},{children:[(0,j.jsx)("p",{className:"ant-upload-drag-icon",children:(0,j.jsx)(o.Z,{})}),(0,j.jsx)("p",{className:"ant-upload-text",children:"\u70b9\u51fb\u6216\u62d6\u52a8\u56fe\u7247\u4e0a\u4f20"}),(0,j.jsx)("p",{className:"ant-upload-hint",children:"\u5148\u6ce8\u518c\u767b\u5165\u518d\u4e0a\u4f20\uff0c\u652f\u6301git\u3001png\u3001jpg\u3001svg\u3001jpeg\uff0c\u6700\u5927\u56fe\u7247\u5c3a\u5bf81M\u3002"})]}))})})})),b=r(7257),v=d.ZP.div(t||(t=(0,l.Z)(["\n  margin-top: 40px;\n  border: 1px solid #000;\n  border-radius: 8px;\n  padding: 10px;\n\n  &:hover {\n    cursor: default;\n  }\n\n  h2 {\n    text-align: center;\n  }\n\n  dl {\n    text-align: center;\n\n    a {\n      font-size: 12px;\n      color: blue;\n    }\n\n    span {\n      color: #c12c1f;\n    }\n\n    input {\n      border-radius: 5px;\n      margin-left: 20px;\n      padding: 0 10px;\n    }\n\n    dd {\n      margin-top: 10px;\n\n      img {\n        min-width: 160px;\n        min-height: 80px;\n      }\n    }\n  }\n"]))),S=(0,h.Pi)((function(){var e=(0,f.o)().ImageStore,n=(0,a.useRef)(null),r=(0,a.useRef)(null),t=(0,b.hN)((function(){return{width:"",setWidth:function(e){this.width=e},get widthStr(){return this.width?"w/".concat(this.width,"/"):""},height:"",setHeight:function(e){this.height=e},get heightStr(){return this.height?"h/".concat(this.height):""},get fullStr(){return e.serverFile.attributes.url.attributes.url+"?imageView2/0/".concat(this.widthStr).concat(this.heightStr)}}}));return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(v,{children:[(0,j.jsx)("h2",{children:"\u4e0a\u4f20\u7ed3\u679c"}),(0,j.jsxs)("dl",{children:[(0,j.jsxs)("dt",{children:["\u7ebf\u4e0a\u5730\u5740\xa0",(0,j.jsx)("a",{href:e.serverFile.attributes.url.attributes.url,rel:"noopener noreferrer",target:"_blank",children:e.serverFile.attributes.url.attributes.url})]}),(0,j.jsxs)("dd",{children:["\u4fee\u6539\u540e\u5927\u5c0f\xa0",(0,j.jsx)("a",{href:t.fullStr,rel:"noopener noreferrer",target:"_blank",children:t.fullStr})]}),(0,j.jsxs)("dt",{children:["\u6587\u4ef6\u540d\xa0",(0,j.jsx)("span",{children:e.serverFile.attributes.filename})]}),(0,j.jsx)("dt",{className:"img",children:"\u56fe\u7247\u9884\u89c8"}),(0,j.jsx)("dd",{children:(0,j.jsx)("img",{src:t.fullStr,alt:"img"})}),(0,j.jsx)("dt",{children:"\u81ea\u5b9a\u4e49\u5927\u5c0f"}),(0,j.jsxs)("dd",{children:[(0,j.jsx)("input",{type:"text",ref:r,onChange:function(){t.setWidth(r.current.value)},placeholder:"\u8bf7\u8f93\u5165\u56fe\u7247\u9ad8\u5ea6"}),(0,j.jsx)("input",{type:"text",ref:n,onChange:function(){t.setHeight(n.current.value)},placeholder:"\u8bf7\u8f93\u5165\u56fe\u7247\u5bbd\u5ea6"})]}),(0,j.jsx)("dd",{children:(0,j.jsx)("a",{href:t.fullStr,rel:"noopener noreferrer",target:"_blank",children:t.fullStr})})]})]})})})),Z=d.ZP.div(i||(i=(0,l.Z)(["\n  margin-top: 40px;\n\n  > p {\n    background-color: #ffa500;\n    border-radius: 3px;\n    padding: 10px 20px;\n  }\n"]))),w=(0,h.Pi)((function(){var e=(0,a.useState)(!1),n=(0,s.Z)(e,2),r=n[0],t=n[1],i=(0,f.o)().AuthStore;return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(Z,{children:[i.isLogin&&u.g.getCurrentUser()?null:(0,j.jsx)("p",{children:"\u8bf7\u5148\u767b\u5f55\u518d\u4e0a\u4f20!!!"}),(0,j.jsx)(m,{setIsUpload:t}),r?(0,j.jsx)(S,{}):null]})})}))}}]);
//# sourceMappingURL=615.bbf6d947.chunk.js.map